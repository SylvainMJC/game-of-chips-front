!function(e){var t={};function r(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(s,a,function(t){return e[t]}.bind(null,a));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){Array.prototype.gemEachCons=function(e){return Array.from({length:this.length-e+1},(t,r)=>this.slice(r,r+e))},Array.prototype.gemCombination=function(e){if(e>this.length||e<=0)return[];if(e==this.length)return[this];if(1==e){let e=[];for(let t=0;t<this.length;t++)e.push([this[t]]);return e}let t=[];for(let r=0;r<this.length-e+1;r++){let s=this.slice(r,r+1),a=this.slice(r+1).gemCombination(e-1);for(let e=0;e<a.length;e++)t.push(s.concat(a[e]))}return t},Array.prototype.gemUniq=function(){return[...new Set(this)]}},function(e,t){Number.prototype.gemPad=function(e){for(var t=String(this);t.length<e;)t="0"+t;return t}},function(e,t,r){"use strict";r.r(t);let s={combos:{HighCard:"Hauteur",Pair:"Paire",TwoPairs:"Deux paires",ThreeOfAKind:"Brelan",Straight:"Suite",Flush:"Flush",FullHouse:"Full",FourOfAKind:"CarrÃ©",StraightFlush:"Quinte Flush",RoyalFlush:"Quinte Flush Royale"}};r(0),r(1);const a=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],n=["two","three","four","five","six","seven","eight","nine","ten","jack","queen","king","ace"],l=["d","c","h","s"],c=["diamond","club","heart","spade"];class i{static values(){return a}static valueLabels(){return n}static types(){return l}static fullTypes(){return c}static ordered(e){return e.sort((e,t)=>t.score()-e.score())}constructor(e){this.label=e}value(){return this.label.split("").slice(0,this.label.length-1).join("")}valueLabel(){return i.valueLabels()[i.values().indexOf(this.value())]}valueCard(){return i.values().indexOf(this.value())>8?this.valueLabel():this.value()}type(){return this.label.split("")[this.label.length-1]}fullType(){let e=i.types().indexOf(this.type());return i.fullTypes()[e]}score(){return parseInt(`${this.valueScore()}${this.typeScore()}`)}valueScore(){return i.values().indexOf(this.value())+2}valueScoreString(){return this.valueScore().gemPad(2)}typeScore(){return i.types().indexOf(this.type())+1}}var u=i;var o=class{constructor(){this._cards=u.values().map(e=>u.types().map(t=>new u(e+t))).flat()}get cards(){return this._cards}shuffle(){let e=[];for(;this._cards.length>0;){let t=Math.floor(Math.random()*this._cards.length);e.push(this._cards[t]),this._cards.splice(t,1)}this._cards=e}};class d{static factory(e,t){e=u.ordered(e);let r=t.map(e=>e.class),s=t.map(e=>e.name);return new(d.find(e,r))(e,s)}static toCombos(e,t){if(e.length<=5)return d.factory(e,t);return e.gemCombination(5).map(e=>d.factory(e,t))}static best(e){return d.ordered(e)[e.length-1]}static ordered(e){return e.sort((e,t)=>d.compareScore(e.score(),t.score()))}static compareScore(e,t){return e[0]==t[0]?e[1]==t[1]?0:e[1]>t[1]?1:-1:e[0]>t[0]?1:-1}static find(e,t){return t.find(t=>t.isAvailable(e))}static occureds(e){let t={};return e.forEach(e=>{let r=e.valueLabel()+"s";t[r]?t[r].push(e):t[r]=[e]}),t}constructor(e,t){this.list=t.reverse(),this.cards=u.ordered(e)}score(){return[this.typeScore(),this.evenScore()]}typeScore(){return this.list.indexOf(this.constructor.name)+1}evenScore(){let e=[4,3,2,1].map(e=>this.whereValueOccures(e)).flat();return parseInt(e.map(e=>e.valueScoreString()).gemUniq().join(""))}whereValueOccures(e){let t=d.occureds(this.cards),r=Object.keys(t).map(r=>t[r].length==e?t[r]:null).flat().filter(Boolean);return u.ordered(r)}name(){return s.combos[this.name()]}}var m=d;var h=class extends m{static isAvailable(e){return!0}getname(){return"HighCard"}};var g=class extends m{static isAvailable(e){let t=m.occureds(e);return Object.values(t).map(e=>e.length).includes(2)}getname(){return"Pair"}};var f=class extends m{static isAvailable(e){let t=m.occureds(e),r=Object.values(t).map(e=>e.length);return r.includes(2)&&r.indexOf(2)!==r.lastIndexOf(2)}name(){return"TwoPairs"}};var p=class extends m{static isAvailable(e){let t=m.occureds(e);return Object.values(t).map(e=>e.length).includes(3)}getname(){return"ThreeOfAKind"}};class v extends m{static isAvailable(e){let t=e.map(e=>e.value());return!!v.all().find(e=>JSON.stringify(t)===JSON.stringify(e))}static all(){let e=[["A","5","4","3","2"]];return u.values().gemEachCons(5).forEach(t=>{e.push(t.reverse())}),e}getname(){return"Straight"}}var b=v;var y=class extends m{getname(){return"Flush"}static isAvailable(e){return 1===e.map(e=>e.type()).gemUniq().length}};var S=class extends m{static isAvailable(e){let t=m.occureds(e),r=Object.values(t).map(e=>e.length);return r.includes(3)&&r.includes(2)}getname(){return"FullHouse"}};var O=class extends m{static isAvailable(e){let t=m.occureds(e);return Object.values(t).map(e=>e.length).includes(4)}getname(){return"FourOfAKind"}};var x=class extends m{static isAvailable(e){return b.isAvailable(e)&&y.isAvailable(e)}getname(){return"StraightFlush"}};const A=[{name:"RoyalFlush",class:class extends m{static isAvailable(e){let t=e.map(e=>e.value()),r=e.map(e=>e.type()).gemUniq();return JSON.stringify(t)===JSON.stringify(["A","K","Q","J","10"])&&1===r.length}getname(){return"RoyalFlush"}}},{name:"StraightFlush",class:x},{name:"FourOfAKind",class:O},{name:"FullHouse",class:S},{name:"Flush",class:y},{name:"Straight",class:b},{name:"ThreeOfAKind",class:p},{name:"TwoPairs",class:f},{name:"Pair",class:g},{name:"HighCard",class:h}];let F=document.getElementById("hero"),N=document.getElementById("villain"),j=document.createElement("img");j.src="./assets/images/players/arya.png",F.append(j);let E=document.createElement("img");E.src="./assets/images/players/jack.png",N.append(E),document.getElementById("deal").addEventListener("click",()=>{let e=document.getElementById("deal"),t=new o;t.shuffle();let r=m.best(m.toCombos([t.cards[0],t.cards[1],t.cards[4],t.cards[5],t.cards[6],t.cards[7],t.cards[8]],A)),s=m.best(m.toCombos([t.cards[2],t.cards[3],t.cards[4],t.cards[5],t.cards[6],t.cards[7],t.cards[8]],A)),a=document.getElementById("hero-message"),n=document.getElementById("villain-message"),l=document.getElementById("win"),c=document.getElementById("loose");a.innerText=r.name(),n.innerText=s.name();let i,u=m.compareScore(r.score(),s.score());0==u?(a.className="combo",n.className="combo",l.className="button hide is-success",c.className="button hide is-danger",i=[r.cards,s.cards].flat().gemUniq()):1==u?(a.className="combo combo-win",n.className="combo combo-loose",l.className="button is-success",c.className="button hide is-danger",i=r.cards):(a.className="combo combo-loose",n.className="combo combo-win",l.className="button hide is-success",c.className="button is-danger",i=s.cards),["player-1","player-2","player-3","player-4","flop-1","flop-2","flop-3","turn","river"].forEach((function(r,s){let a=document.getElementById(r);a.className="card bg-white";let n=document.createElement("img"),l=t.cards[s];i.includes(l)&&(a.className="card bg-white focus"),n.src=`assets/images/cards/${l.valueCard()}_of_${l.fullType()}s.png`,e.innerText="Rejouer",a.textContent="",a.append(n)}))})}]);